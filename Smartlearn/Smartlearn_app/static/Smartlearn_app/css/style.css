:root{
  --bg: #0b1220;
  --panel: #0f172a;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --accent: #f5d76e;
  --accent-2: #f472b6;
  --ring: rgba(245,215,110,0.18);
}
body {
  overflow-y: hidden; /* prevents vertical scroll */
}

/* base */
body.thematic { background: var(--bg); color: var(--text); font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }



.thematic, .thematic * { transition: background-color .35s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease, transform .2s ease; }

/* cards & buttons */
.card { 
  background: var(--panel); 
  border: 1px solid rgba(255,255,255,0.06);
   border-radius: 1rem; 
   position: relative; 
  }



.btn {
  position: relative;
  overflow: hidden;
  border: none; /* remove faint white border */
  background: rgba(15, 23, 42, 0.7); /* subtle dark base so gold stands out */
  color: var(--text);
  padding: .4rem .9rem;
  border-radius: .75rem;
  display: inline-flex; 
  align-items: center; 
  justify-content: center; 
  z-index: 1;
}

.btn::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 2px; /* thickness of golden border */
  background: linear-gradient(90deg, #ffd700, #ffae00, #ffd700);
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  z-index: -1;
}


.btn:hover { 
  box-shadow: 0 0 0.6rem var(--ring);
   transform: translateY(-2px);
   }



.btn.playful { background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); 
  border:1px solid rgba(255,255,255,0.05); }

/* gradient text */
.grad-text { background: linear-gradient(90deg,var(--accent),var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent; font-family:"Pacifico",cursive; }

/* inputs */
.input, .select, .textarea { background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.08); color:var(--text); padding:.6rem; border-radius:.75rem; }
.input:focus, .textarea:focus, .select:focus { box-shadow: 0 0 0 3px var(--ring); outline: none; border-color: var(--accent); }

/* sparkles & layering */
/* sparkles should be behind the visible UI */
.magic-bg{ 
  position:relative;
   overflow:hidden; 
  }
.sparkle {
  position:absolute;
  width:3px;
  height:3px;
  border-radius:9999px;
  background: rgba(255,255,255,0.95);
  filter: drop-shadow(0 0 8px rgba(255,230,180,0.95));
  opacity:.9;
  animation: float 6s linear infinite;
}
.sparkle::after {
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:9999px;
  background:radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 60%);
  opacity:.6;
}

@keyframes float { 
  0%{transform:translateY(0) scale(1)}
  50%{transform:translateY(-40px) scale(1.2)}
  100%{transform:translateY(0) scale(1)} }

/* make content sit above sparkles */
#pageHeader, .card, .header-left, .logo, .theme-action, .nav-btn { 
  position: relative;
   z-index: 10; 
  }

/* sidebar base */
#sidebar {
   position: relative;
    left:0; 
    top:0;
     bottom:0;
      z-index:999; 
      height:100vh; 
      overflow:visible; 
      transition: width .28s ease,
       background .28s ease,transform .28s ease;
       }
.sidebar-card { 
  height:100%;
   display:flex;
    flex-direction:column; 
  }
.sidebar-header {
   display:flex;
    align-items:center;
     gap:12px;
      position:relative;
       padding-right: 12px;
       }

/* brand */
.brand-logo {
   width:40px; 
   height:40px;
   }
.brand-text {
   display:block; 
  }

/* nav */
.nav-btn { 
  width:100%;
   text-align:left;
    padding:.6rem .75rem; 
    border-radius:.75rem; 
    display:flex; 
    align-items:center;
     gap:.75rem;
      transition: background .2s;
       background: transparent;
        color: var(--text); 
        font-size: 1rem;
     }
.nav-btn:hover { 
  background: rgba(255,255,255,0.04);
 }
.nav-btn .dot {
   width:8px; 
   height:8px; 
   border-radius:9999px;
    display:inline-block; 
    margin-left:3px; 
  }

/* toggle - subtle pill (not fully filled) */
.toggle-pill {
  width:48px;
   height:48px; 
   min-width:48px; 
   min-height:48px;
  display:inline-flex;
   align-items:center;
    justify-content:center;
  border-radius:12px; 
  background: rgba(255,255,255,0.02);
   color: var(--accent);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 6px 12px rgba(0,0,0,0.18);
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}
.toggle-pill:hover { 
  transform: translateY(-2px);
   box-shadow: 0 10px 26px rgba(0,0,0,0.28);
   }

/* theme action bottom */
.theme-action {
   display:flex; 
   align-items:center; 
   gap:8px;
   }
.theme-btn {
   display:flex; 
   align-items:center;
    gap:8px;
     width:100%; 
     justify-content:flex-start;
     }
.theme-btn svg { 
  color: var(--accent); 
}
.theme-label { 
  font-size: 0.95rem; 
}
.theme-icon { 
  display:none; 
}

/* collapsed look */
.sidebar-collapsed {
  width:64px !important;
  background: var(--bg) !important;
  border-right:none !important;
  box-shadow:none !important;
}
.sidebar-collapsed .brand-text,
.sidebar-collapsed .brand-logo {
   display:none !important;
   }
.sidebar-collapsed .nav-btn .truncate {
   display:none !important;
   }
.sidebar-collapsed .sidebar-header { 
  padding-left:8px; 
}
.sidebar-collapsed .toggle-pill {
   position:absolute;
    left:8px;
     top:12px;
     }
.sidebar-collapsed .theme-btn {
   display:none !important; 
  }
.sidebar-collapsed .theme-icon {
   display:inline-flex !important;
   }

/* expanded */
.sidebar-expanded { 
  width:18rem !important;
   background:var(--panel) !important; 
   box-shadow: 0 8px 30px rgba(0,0,0,0.35); }

/* backdrop */
.sidebar-backdrop {
   position:fixed;
    inset:0; 
    background:rgba(0,0,0,0.45);
     z-index:40;
     }
.sidebar-backdrop.hidden { 
  display:none;
 }

/* mobile off-canvas */
@media (max-width:768px){
  #sidebar { 
    position:fixed;
     transform:translateX(-110%); 
     width:18rem;
     }
  body.sidebar-open #sidebar { 
    transform:translateX(0);
   }
  main { 
    position:relative; 
    z-index:10; 
  }
}

/* flashcards flip */
.flip {
   perspective: 1000px;
   }
.flip-inner {
  position: relative;
  width: 100%; height: 200px;
  transform-style: preserve-3d;
  transition: transform .6s;
}
.flip:hover .flip-inner, .flip.flipped .flip-inner {
   transform: rotateY(180deg); 
  }
.face {
  position: absolute;
   inset: 0;
    display:flex; 
    align-items:center;
     justify-content:center;
  backface-visibility: hidden;
   border:1px solid rgba(255,255,255,0.08);
    border-radius: 1rem; 
    padding:1rem;
  background: rgba(255,255,255,0.03);
   color: var(--text);
}
.back { 
  transform: rotateY(180deg);
 }

/* --------------------
   AUTH MODAL (centered)
   -------------------- */
#authModal {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999; /* make sure modal is above everything */
}
#authModal.hidden { display: none; }

#authModal > #authBackdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  z-index: 9998;
}

/* modal inner container: keep vertical centering and scroll if needed */
#authModal .relative {
  position: relative;
  z-index: 9999;
  width: 100%;
  max-width: 900px;
  max-height: calc(100vh - 48px);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: auto;
  padding: 1rem;
}

/* ensure the .card inside modal doesn't overflow horizontally */
#authModal .card { 
  margin: 0 auto;
   width: 100%;
    box-sizing: 
    border-box; 
  }

/* small bounce & utils */
@keyframes bounce-slow {
   0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)} }
.animate-bounce-slow { 
  animation: bounce-slow 4s ease-in-out infinite; 
}
.logo {
   width:50px;
    height:50px; 
  }
.text-muted {
   color: var(--muted);
   }

/* --------------------
   COLLAPSED SIDEBAR: dots + divider
   -------------------- */
.sidebar-collapsed {
  width: 64px !important;
  background: var(--bg) !important;
  border-right: 1px solid rgba(255,255,255,0.05); /* thin divider line */
  box-shadow: none !important;
}

/* center the nav and make each nav item a round dot */
.sidebar-collapsed nav {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  padding-top: 72px; /* keep space for toggle & brand area */
  padding-left: 8px;
  padding-right: 8px;
}

/* make nav buttons compact and circular (show only dot) */
.sidebar-collapsed .nav-btn {
  width: 44px;
  padding: 8px 6px;
  border-radius: 9999px;
  justify-content: center;
  display: flex;
  align-items: center;
  background: transparent;
}

/* hide the text completely (already done but ensure no leftover space) */
.sidebar-collapsed .nav-btn .truncate { display: none !important; }

/* center the dot inside the small circular button */
.sidebar-collapsed .nav-btn .dot {
  margin: 0;
  width: 10px;
  height: 10px;
  border-radius: 9999px;
  display: inline-block;
}

/* keep toggle pill placed nicely on collapsed state */
.sidebar-collapsed .toggle-pill {
   position: absolute;
    left: 8px;
     top: 10px; 
    }

/* optional: shrink bottom theme area so it doesn't overflow */
.sidebar-collapsed .theme-action,
.sidebar-collapsed .theme-btn { 
  display: none !important; 
}
.sidebar-collapsed .theme-icon { 
  display:inline-flex !important;
 }

@keyframes shimmer {
  0% { 
    background-position: 0% 50%;
   }
  100% { 
    background-position: 200% 50%;
   }
}

.btn::before {
  background: linear-gradient(90deg, #ffd700, #ffae00, #ffd700, #fff5cc);
  background-size: 200% auto;
  animation: shimmer 3s linear infinite;
}

/* ===================== SEARCH SECTION ===================== */
/* ===================== SEARCH SECTION ===================== */
/* ===================== SEARCH SECTION ===================== */
#section-search {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  position: relative;
  padding-bottom: 100px; /* keeps search bar slightly above bottom */
}

/* Search wrapper */
#searchWrapper {
  width: 70%;  /* increased width */
  transition: all 0.5s ease;
  z-index: 30;
}

/* Move search bar up when search is active */
#searchWrapper.expanded {
  transform: translateY(-40px); /* slight upward move */
  width: 80%; /* expand on search */
}

/* Heading */
#searchHeading {
  transition: all 0.5s ease;
  margin-bottom: 20px;
}

/* Hide heading when search is active */
#searchHeading.expanded {
  opacity: 0;
  height: 0;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

/* Search button fix */
#searchBtn {
  box-sizing: border-box;
  outline: none;
  border-width: 0;
}
#searchBtn:focus,
#searchBtn:hover {
  transform: translateY(-50%);
}

/* Search result box */
#searchResult {
  width: 70%; /* increased width */
  max-height: 0;
  opacity: 0;
  pointer-events: none;
  transition: all 0.5s ease;
  margin-bottom: 0;
  overflow-y: auto;
  z-index: 20;
}

/* Expanded result box: above search bar with proper height */
#searchResult.expanded {
  width: 80%;  /* expand width when active */
  max-height: 50vh; /* taller result box */
  opacity: 1;
  pointer-events: auto;
  position: relative;
  margin-bottom: 15px; /* gap between search bar and result */
}

/* ===================== SCROLLBAR ===================== */
/* Chrome, Edge, Safari */
#searchResult::-webkit-scrollbar {
  width: 8px;
}
#searchResult::-webkit-scrollbar-track {
  background: var(--panel);
  border-radius: 8px;
}
#searchResult::-webkit-scrollbar-thumb {
  background-color: var(--accent);
  border-radius: 8px;
  border: 2px solid var(--panel);
}
#searchResult::-webkit-scrollbar-thumb:hover {
  background-color: var(--accent-2);
}
/* Firefox */
#searchResult {
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--panel);
}


/* Make the search result cards transparent */
#searchResult .rounded-xl {
  background-color: transparent; /* remove gray/black box */
  border-color: rgba(255, 255, 255, 0.2); /* optional: keep subtle border */
  color: var(--text); /* text matches theme */
}

#searchResultInner > div {
  background: transparent !important; /* transparent background */
  border: none !important;           /* remove border */
}

/*bscbchbchcbchbdchbhcbdhc
*/

/* --- SIDEBAR CLICK FIX --- */
/* #sidebar {
  position: relative;
  z-index: 9999; /* stay on top of all sections */
  /* pointer-events: auto; /* make sure it can be clicked */



/* NEWWWWWW

*/

#sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 250px;           /* sidebar width */
    height: 100%;
    background: #fff;
    overflow-y: auto;
    z-index: 9999;         /* ensure sidebar is above all other elements:contentReference[oaicite:3]{index=3} */
    transform: translateX(-250px);
    transition: transform 0.3s ease;
    /* Allow clicks on sidebar content */
    pointer-events: auto;
}

#sidebar.active {
    transform: translateX(0);
}

/* Sidebar header (for title and close button) */
.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: #f0f0f0;
}

/* Sidebar menu links */
.sidebar-menu {
    list-style: none;
    margin: 0;
    padding: 0;
}
.sidebar-menu li {
    margin: 0;
    padding: 0;
}
.sidebar-menu a {
    display: block;
    padding: 0.75rem 1rem;
    color: #333;
    text-decoration: none;
    /* Ensure links receive pointer events:contentReference[oaicite:4]{index=4} */
    pointer-events: auto;
}
.sidebar-menu a:hover {
    background: #ececec;
}

/* Close button inside sidebar */
#sidebarClose {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    pointer-events: auto;  /* ensure the close button is clickable */
}

/* Overlay covers the page when sidebar is open */
#overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    display: none;
    z-index: 999;          /* slightly below the sidebar */
    /* By default, let clicks through to the sidebar/content:contentReference[oaicite:5]{index=5} */
    pointer-events: none;
}

/* Show overlay when active */
#overlay.active {
    display: block;
    /* Only intercept clicks when visible */
    pointer-events: auto;
}

/* Button to open sidebar (hamburger) */
#sidebarToggle {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
}

/* Main content area (no changes) */
#content {
    margin: 0;
    padding: 1rem;
}
/* sometimes #section-search or #searchResult overlays the sidebar */
#section-search,
#searchResult,
#story-section,
#flashcard-section,
#mcq-section {
  /* position: relative;
  z-index: 1; */
  pointer-events: auto; /* let clicks pass through these layers */
}

/* but allow clicks INSIDE them (like buttons or search inputs) */
#section-search * ,
#searchResult *,
#story-section *,
#flashcard-section *,
#mcq-section * {
  pointer-events: auto;
}
/*ffvfvfvfvv*/  
.hidden { display: none !important; pointer-events: none !important; }

.slider, .flashcard, .flip, .mcq-option, .nav-btn, .toggle-pill, button, input, select {
  position: relative;
  z-index: 9999;
  pointer-events: auto;
}
